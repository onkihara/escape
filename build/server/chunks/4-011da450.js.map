{"version":3,"file":"4-011da450.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/houses/dsb-vault/_page.server.js","../../../.svelte-kit/adapter-node/nodes/4.js"],"sourcesContent":["import { r as redirect } from \"../../../../chunks/index.js\";\nimport { d as db } from \"../../../../chunks/mysql.js\";\nimport { c as canPlay } from \"../../../../chunks/player.js\";\nlet hash, player;\nasync function load({ cookies, url }) {\n  hash = url.pathname.split(\"/\").pop();\n  player = await canPlay(hash, cookies.get(\"access_key\"));\n  if (player) {\n    const house = await db.getHouseByHash(hash);\n    player.house = Object.assign({}, house[0]);\n    return player;\n  }\n  throw redirect(303, \"/\");\n}\nconst actions = {\n  default: async ({ request }) => {\n    const inputs = {\n      room_0: \"Schloss1998\",\n      room_1: \"42\",\n      room_2: \"RRNP\",\n      room_3: \"Energie!\",\n      room_4: \"h3ur3k4\"\n    };\n    const data = await request.formData();\n    const formdata = {};\n    for (const key of data.keys()) {\n      formdata[key] = data.get(key);\n    }\n    if (formdata.solution === inputs[\"room_\" + formdata.room]) {\n      const new_rank = await db.setRank(player.house.id, player.player.key, ++player.player.rank);\n      console.log(new_rank);\n    }\n    return { success: true, ...formdata };\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/houses/dsb-vault/_page.server.js';\n\nexport const index = 4;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/houses/dsb-vault/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/houses/dsb-vault/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/4.506c2a2f.js\",\"_app/immutable/chunks/index.08ce21f5.js\"];\nexport const stylesheets = [\"_app/immutable/assets/4.4e698b7f.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;;AAGA,IAAI,IAAI,EAAE,MAAM,CAAC;AACjB,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,GAAG,EAAE,EAAE;AACtC,EAAE,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;AACvC,EAAE,MAAM,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;AAC1D,EAAE,IAAI,MAAM,EAAE;AACd,IAAI,MAAM,KAAK,GAAG,MAAM,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;AAChD,IAAI,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/C,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG;AACH,EAAE,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC3B,CAAC;AACD,MAAM,OAAO,GAAG;AAChB,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AAClC,IAAI,MAAM,MAAM,GAAG;AACnB,MAAM,MAAM,EAAE,aAAa;AAC3B,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,MAAM,EAAE,MAAM;AACpB,MAAM,MAAM,EAAE,UAAU;AACxB,MAAM,MAAM,EAAE,SAAS;AACvB,KAAK,CAAC;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,EAAE,CAAC;AACxB,IAAI,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,EAAE;AACnC,MAAM,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACpC,KAAK;AACL,IAAI,IAAI,QAAQ,CAAC,QAAQ,KAAK,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,EAAE;AAC/D,MAAM,MAAM,QAAQ,GAAG,MAAM,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAClG,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AAC5B,KAAK;AACL,IAAI,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,QAAQ,EAAE,CAAC;AAC1C,GAAG;AACH,CAAC;;;;;;;;AChCW,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAmD,CAAC,EAAE,QAAQ;AAEzH,MAAC,SAAS,GAAG,8CAA8C;AAC3D,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,yCAAyC,EAAE;AAC5F,MAAC,WAAW,GAAG,CAAC,sCAAsC,EAAE;AACxD,MAAC,KAAK,GAAG;;;;"}