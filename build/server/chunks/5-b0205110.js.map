{"version":3,"file":"5-b0205110.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/houses/nullchiffre/_page.server.js","../../../.svelte-kit/adapter-node/nodes/5.js"],"sourcesContent":["import { r as redirect } from \"../../../../chunks/index.js\";\nimport { d as db } from \"../../../../chunks/mysql.js\";\nimport { c as canPlay } from \"../../../../chunks/player.js\";\nconst jdata = JSON.stringify([\n  {\n    id: 1,\n    name: \"We will thrive!\",\n    content: `<h3>A room in the Garter Inn</h3>\n    <p>O, she did so course o'er my exteriors with such a greedy intention that the appetite of her eye did seem to scorch me up like a burning-glass. Here's another letter to her. She bears the purse too; she is a region in Guiana, all gold and bounty. I will be cheaters to them both, and they shall be exchequers to me; they shall be my East and West Indies, and I will trade to them both. Go, bear thou this letter to Mistress Page;—and thou this to Mistress Ford. We will thrive, lads, we will thrive.</p>`,\n    background: {\n      color: \"blue\",\n      image: \"falstaff.jpg\",\n      position: \"center top\"\n    },\n    gain: 10,\n    task: \"\",\n    input: {\n      type: \"textarea\",\n      label: `Finde die geheime Botschaft`\n    },\n    // not to be put in the data: successive api-call with separate table to count\n    chiffre: {\n      type: \"words\",\n      sequence: 5,\n      solution: \"o'er a appettite seem like letter the a gold be and to my and them this and Ford we\"\n    },\n    clues: [\n      {\n        id: 1,\n        type: \"text\",\n        text: `Wörter sind gesucht`,\n        cost: 3,\n        used: false\n      },\n      {\n        id: 2,\n        type: \"text\",\n        text: \"In gleichem Abstand\",\n        cost: 2,\n        tool: \"wordsequencer\",\n        used: false\n      }\n    ]\n  }\n]);\nlet hash, player;\nasync function load({ cookies, url }) {\n  hash = url.pathname.split(\"/\").pop();\n  player = await canPlay(hash, cookies.get(\"access_key\"));\n  if (!player) {\n    throw redirect(303, \"/\");\n  }\n  const house = await db.getHouseByHash(hash);\n  player.house = Object.assign({}, house[0]);\n  const data = {\n    player,\n    riddle: JSON.parse(jdata)[0]\n  };\n  return data;\n}\nconst actions = {\n  default: async ({ request }) => {\n    const data = await request.formData();\n    const formdata = {};\n    for (const key of data.keys()) {\n      formdata[key] = data.get(key);\n    }\n    return { success: true, ...formdata };\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/houses/nullchiffre/_page.server.js';\n\nexport const index = 5;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/houses/nullchiffre/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/houses/nullchiffre/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/5.e769bd0d.js\",\"_app/immutable/chunks/index.08ce21f5.js\"];\nexport const stylesheets = [\"_app/immutable/assets/5.9748ceff.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}